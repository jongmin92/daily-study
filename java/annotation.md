# 애노테이션

애노테이션(Annotation)은 Java 1.5부터 새롭게 추가된 기능이다.
본래 주석이란 뜻으로, 인터페이스를 기반으로 한 문법이다. 주석과는 그 역할이 다르지만 주석처럼 코드에 달아 특별한 의미를 부여하거나 기능을 주입할 수 있다.

애노테이션 정보가 소스코드(.java)와 컴파일된 바이트코드(.class)까지는 정보가 남지만 클래스 로더에 의해 로딩될 때는 사라지게 된다.
정보를 유지하기 위해서는 @Retention으로 런타임에도 유지되도록 설정이 필요하다.

**런타임 시점에 리플랙션을 이용해서 특수 기능을 추가하기 위한 용도로도 사용된다.**

>바이트코드를 javap로 디어셈블할 때, -v 옵션을 주어야 애노테이션 정보를 확인할 수 있다.

## 메타 애노테이션
애노테이션을 위한 애노테이션이다. 즉, **애노테이션에 붙이는 애노테이션으로 애노테이션을 정의할 때, 애노테이션의 적용대상(target)이나 유지기간(retention)등을 지정하는데 사용한다.**

- **@Retention**
    - 애노테이션이 유지되는 기간을 지정하는데 사용한다.
    - RetentionPolicy.SOURCE: 소스 파일에만 존재. 클래스 파일에는 존재하지 않는다.
    - RetentionPolicy.CLASS: 클래스 파일에 존재. 런타임 시점에 사용 불가능.
    - RetentionPolicy.RUNTIME: 런타임 시점에도 유효.
- **@Target**
    - 애노테이션이 적용가능한 대상을 지정하는데 사용한다.
    - ElementType.TYPE : 타입 선언
    - ElementType.CONSTRUCTOR : 생성자 선언
    - ElementType.FIELD : 멤버 변수 선언
    - ElementType.METHOD : 메서드 선언
    - ElementType.PARAMETER : 전달 인자 선언
    - ElementType.TYPE_PARAMETER : 전달 인자 타입 선언
- **@Inherited**
    - 애노테이션의 상속을 가능하게 한다.
- **@Documented**
    - 해당 애노테이션을 Javadoc에 포함한다.


애노테이션의 필드 value의 경우는 이름을 사용하지 않아도 된다. -> 관례 (하나의 필드만 사용하는 경우에 유용)

> 애노테이션 요소의 규칙
>- 요소의 타입은 기본형, String, enum, 애노테이션, Class만 허용된다.
>- ()안에 매개변수를 선언할 수 없다.
>- 예외를 선언할 수 없다.
>- 요소를 타입 매개변수로 정의할 수 없다.
